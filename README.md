# Documentation

View the documentation: http://docs.capeprivacy.com

## Run the docs locally - quickstart

Prerequisites:

* git
* Python 64bit (currently using 3.7 due to [Netlify limitations](https://github.com/netlify/build-image/blob/xenial/included_software.md)).
* pip
* venv

1. Clone this repo:

```
git clone https://github.com/capeprivacy/documentation.git
```

2. In the `documentation` directory, create a virtual environment with [venv](https://docs.python.org/3/library/venv.html#module-venv):

```
python -m venv ./venv
```

3. Activate the virtual environment. The exact command depends on your shell:

```
# Powershell
./venv/Scripts/activate.ps1

# Bash
. venv/Scripts/activate
```

4. Install the [Material theme](https://squidfunk.github.io/mkdocs-material/), [MkDocs](https://www.mkdocs.org/) and [Pydoc-markdown](https://github.com/NiklasRosenstein/pydoc-markdown):

```
pip install -r requirements.txt
```

5. To view the docs locally:

```
mkdocs serve
```

You can now view the docs at `localhost:8080`. 

Note that this does not autogenerate the latest code documentation. Refer to [Understand the docs tooling](#understand-the-docs-tooling) for detailed information on the documentation setup.

## Contribute to the docs

This section describes how to edit the handwritten docs website content.

The main branch is live. All work should happen on another branch.

1. Follow steps 1-4 from [Run the docs locally](#run-the-docs-locally). Before editing, create a new branch:

```
git branch -b <branchName>
```

2. Make your edits.

3. Push your branch:

```
git add *
git commit -m "Describe your changes"
git push --set-upstream origin <branchName>
```

4. Submit a pull request. Netlify automatically builds a demo of the site with your changes. Select **Details** next to **netlify/cp-docs-demo/deploy-preview** to view the demo. Try to have someone else review your work before merging.

5. Merge the pull request. Netlify automatically detects changes to the main branch and rebuilds and redeploys the live documentation site.

## Style and tone

Refer to the [Writing style and tone](https://github.com/capeprivacy/documentation/wiki/Writing-style-and-tone) page in our wiki.

## Understand the docs tooling

This section provides background information on the project setup and tooling. For instructions on how to contribute and run the docs site, refer to [Contribute to the docs](#contribute-to-the-docs).

> **Note:** the `cpdocs.sh` script assembles all the components described here. Most of the time you can just run this script. However, if you need to change the setup, use this section to understand how the components work together.

The documentation website comprises:

* Content written in Markdown, in the documentation repository. This includes most of the introductory material, best practices guides, and similar. 
* Content written as code comments or docstrings in the Cape Privacy code. To include this in the website, we use git submodules, a tool for each language to generate markdown from code comments, and a Bash script to bring everything together.


### Cape Python autogeneration

1. The [Cape Python](https://github.com/capeprivacy/cape-python) repo is a submodule in this project. 
2. We use [Pydoc-markdown](https://github.com/NiklasRosenstein/pydoc-markdown) to generate Markdown files from the Cape Python docstrings. Use `pydoc-markdown.yml` to configure the tool, and set up the navigation.
3. The [Monorepo](https://github.com/spotify/mkdocs-monorepo-plugin) plugin allows us to include the site generated by Pydoc-markdown in our docs site. This is configured in the main `mkdocs.yml`.

## About Cape Privacy

[Cape Privacy](https://capeprivacy.com) helps teams share data and make decisions for safer and more powerful data science. Learn more at [capeprivacy.com](https://capeprivacy.com).

## Help and resources

If you need help using Cape, you can:

* View the [documentation](https://docs.capeprivacy.com/).
* Submit an issue.
* Talk to us on our [community Slack](https://join.slack.com/t/capecommunity/shared_invite/zt-f8jeskkm-r9_FD0o4LkuQqhJSa~~IQA).

Please file documentation [feature requests](https://github.com/capeprivacy/documentation/issues/new?template=feature_request.md) and 
[bug reports](https://github.com/capeprivacy/documentation/issues/new?template=bug_report.md) as GitHub issues.

## Community

[![](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/images/0)](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/links/0)[![](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/images/1)](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/links/1)[![](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/images/2)](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/links/2)[![](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/images/3)](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/links/3)[![](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/images/4)](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/links/4)[![](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/images/5)](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/links/5)[![](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/images/6)](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/links/6)[![](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/images/7)](https://sourcerer.io/fame/justin1121/capeprivacy/documentation/links/7)

### Contributing

View our [contributing](CONTRIBUTING.md) guide for more information.

### Code of conduct

Our [code of conduct](https://capeprivacy.com/conduct/) is included on the Cape Privacy website. All community members are expected to follow it. Please refer to that page for information on how to report problems.

## License

Licensed under Apache License, Version 2.0 (see [LICENSE](./LICENSE) or http://www.apache.org/licenses/LICENSE-2.0). Copyright as specified in [NOTICE](./NOTICE).